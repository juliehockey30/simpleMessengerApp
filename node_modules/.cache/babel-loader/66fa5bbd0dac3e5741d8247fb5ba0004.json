{"ast":null,"code":"import _classCallCheck from \"/Users/julieneuburger/Desktop/simple-messenger-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/julieneuburger/Desktop/simple-messenger-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/julieneuburger/Desktop/simple-messenger-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/julieneuburger/Desktop/simple-messenger-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/julieneuburger/Desktop/simple-messenger-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/julieneuburger/Desktop/simple-messenger-app/src/App.js\";\nimport React, { Component } from \"react\";\nimport { TextField, List, ListItem, ListItemText } from \"@material-ui/core\";\nimport firebase from \"firebase\";\nimport \"./App.css\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.onSubmit = function (event) {\n      if (event.charCode === 13 && _this.state.text.trim() !== \"\") {\n        _this.writeMessageToDB(_this.state.text);\n\n        _this.setState({\n          text: \"\"\n        });\n      }\n    };\n\n    _this.writeMessageToDB = function (message) {\n      firebase.database().ref(\"messages/\").push({\n        text: message\n      });\n    };\n\n    _this.getMessages = function () {\n      var messagesDB = firebase.database().ref(\"messages/\").limitToLast(500);\n      messagesDB.on(\"value\", function (snapshot) {\n        var newMessages = [];\n        snapshot.forEach(function (child) {\n          var message = child.val();\n          newMessages.push({\n            id: child.key,\n            text: message.text\n          });\n        });\n\n        _this.setState({\n          messages: newMessages\n        });\n\n        _this.bottomSpan.scrollIntoView({\n          behavior: \"smooth\"\n        });\n      });\n    };\n\n    _this.renderMessages = function () {\n      return _this.state.messages.map(function (message) {\n        return React.createElement(ListItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(ListItemText, {\n          style: {\n            wordBreak: \"break-word\"\n          },\n          primary: message.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }));\n      });\n    };\n\n    _this.state = {\n      text: \"\",\n      messages: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var config = {\n        apiKey: \"AIzaSyB57g6S3CzwzMhRYM1o36xgdxjJ9htOJWQ\",\n        authDomain: \"fir-chat-app-dd80a.firebaseapp.com\",\n        databaseURL: \"https://fir-chat-app-dd80a.firebaseio.com\",\n        projectId: \"fir-chat-app-dd80a\",\n        storageBucket: \"fir-chat-app-dd80a.appspot.com\",\n        messagingSenderId: \"940693699636\"\n      };\n      firebase.initializeApp(config);\n      this.getMessages();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.renderMessages()), React.createElement(TextField, {\n        autoFocus: true,\n        multiline: true,\n        rowsMax: 3,\n        placeholder: \"Type something..\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            text: event.target.value\n          });\n        },\n        value: this.state.text,\n        onKeyPress: this.onSubmit,\n        style: {\n          width: \"98vw\",\n          overflow: \"hidden\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        ref: function ref(el) {\n          return _this2.bottomSpan = el;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/julieneuburger/Desktop/simple-messenger-app/src/App.js"],"names":["React","Component","TextField","List","ListItem","ListItemText","firebase","App","props","onSubmit","event","charCode","state","text","trim","writeMessageToDB","setState","message","database","ref","push","getMessages","messagesDB","limitToLast","on","snapshot","newMessages","forEach","child","val","id","key","messages","bottomSpan","scrollIntoView","behavior","renderMessages","map","wordBreak","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","initializeApp","target","value","width","overflow","el"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { TextField, List, ListItem, ListItemText } from \"@material-ui/core\"\nimport firebase from \"firebase\"\nimport \"./App.css\"\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { text: \"\", messages: [] }\n  }\n  componentDidMount() {\n    var config = {\n      apiKey: \"AIzaSyB57g6S3CzwzMhRYM1o36xgdxjJ9htOJWQ\",\n      authDomain: \"fir-chat-app-dd80a.firebaseapp.com\",\n      databaseURL: \"https://fir-chat-app-dd80a.firebaseio.com\",\n      projectId: \"fir-chat-app-dd80a\",\n      storageBucket: \"fir-chat-app-dd80a.appspot.com\",\n      messagingSenderId: \"940693699636\"\n    }\n    firebase.initializeApp(config)\n    this.getMessages()\n  }\n\n  onSubmit = event => {\n    if (event.charCode === 13 && this.state.text.trim() !== \"\") {\n      this.writeMessageToDB(this.state.text)\n      this.setState({ text: \"\" })\n    }\n  }\n\n  writeMessageToDB = message => {\n    firebase\n      .database()\n      .ref(\"messages/\")\n      .push({\n        text: message\n      })\n  }\n\n  getMessages = () => {\n    var messagesDB = firebase\n      .database()\n      .ref(\"messages/\")\n      .limitToLast(500)\n    messagesDB.on(\"value\", snapshot => {\n      let newMessages = []\n      snapshot.forEach(child => {\n        var message = child.val()\n        newMessages.push({ id: child.key, text: message.text })\n      })\n      this.setState({ messages: newMessages })\n      this.bottomSpan.scrollIntoView({ behavior: \"smooth\" })\n    })\n  }\n\n  renderMessages = () => {\n    return this.state.messages.map(message => (\n      <ListItem>\n        <ListItemText\n          style={{ wordBreak: \"break-word\" }}\n          primary={message.text}\n        />\n      </ListItem>\n    ))\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <List>{this.renderMessages()}</List>\n        <TextField\n          autoFocus={true}\n          multiline={true}\n          rowsMax={3}\n          placeholder=\"Type something..\"\n          onChange={event => this.setState({ text: event.target.value })}\n          value={this.state.text}\n          onKeyPress={this.onSubmit}\n          style={{ width: \"98vw\", overflow: \"hidden\" }}\n        />\n        <span ref={el => (this.bottomSpan = el)} />\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}